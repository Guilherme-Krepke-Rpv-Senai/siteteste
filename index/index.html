<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STYLE CO. - Loja de Roupas</title>
    <link rel="stylesheet" href="../style/style.css">
</head>
<body>
    <!-- HEADER -->
    <header>
        <div class="header-content">
            <h1 class="logo">STYLE CO.</h1>
            
            <nav class="nav-desktop">
                <button onclick="showPage('home')">Home</button>
                <button onclick="showPage('loja')">Loja</button>
                <button onclick="showPage('cadastro')">Cadastrar</button>
                <button onclick="showPage('sobre')">Sobre</button>
            </nav>

            <div class="header-right">
                <button class="theme-btn" onclick="toggleDarkMode()">üåô</button>
                <button class="cart-btn" onclick="window.location.href='carrinho.html'">
                    üõí
                    <span class="cart-badge" id="cartBadge" class="hidden">0</span>
                </button>
                <button class="mobile-menu-btn" onclick="toggleMobileMenu()">‚ò∞</button>
            </div>
        </div>

        <nav class="nav-mobile" id="mobileMenu">
            <button onclick="showPage('home'); toggleMobileMenu()">Home</button>
            <button onclick="showPage('loja'); toggleMobileMenu()">Loja</button>
            <button onclick="showPage('cadastro'); toggleMobileMenu()">Cadastrar</button>
            <button onclick="showPage('sobre'); toggleMobileMenu()">Sobre</button>
        </nav>
    </header>

    <!-- MAIN -->
    <main>
        <!-- HOME PAGE -->
        <div id="home" class="page">
            <section class="hero">
                <h2 style="color: #1f2937 !important; text-shadow: none !important;">Bem-vindo √† STYLE CO.</h2>
                <p style="color: #1f2937 !important; text-shadow: none !important;">Moda minimalista com qualidade e personalidade</p>
                <div class="hero-buttons">
                    <button class="btn-primary" onclick="showPage('loja')">Ver Produtos</button>
                    <button class="btn-secondary" onclick="showPage('cadastro')">Cadastrar Produto</button>
                </div>
            </section>

            <section>
                <h3>Destaque de Produtos</h3>
                <div class="products-grid" id="destaqueProducts"></div>
            </section>
        </div>

        <!-- LOJA PAGE -->
        <div id="loja" class="page hidden">
            <section>
                <h2>Nossa Loja</h2>
                <div class="filtros">
                    <button class="filter-btn active" onclick="filterProducts('todos')">Todos</button>
                    <button class="filter-btn" onclick="filterProducts('camisetas')">Camisetas</button>
                    <button class="filter-btn" onclick="filterProducts('cal√ßas')">Cal√ßas</button>
                    <button class="filter-btn" onclick="filterProducts('jaquetas')">Jaquetas</button>
                    <button class="filter-btn" onclick="filterProducts('vestidos')">Vestidos</button>
                </div>
                <div class="products-grid" id="lojaProducts"></div>
            </section>
        </div>

        <!-- CADASTRO PAGE -->
        <div id="cadastro" class="page hidden">
            <section>
                <h2>Cadastrar Produto</h2>
                <div class="form-container">
                    <div class="form-group">
                        <label>Nome do Produto</label>
                        <input type="text" id="prodName" placeholder="Ex: Camiseta">
                    </div>
                    <div class="form-group">
                        <label>Pre√ßo</label>
                        <input type="number" id="prodPrice" placeholder="Ex: 79.90" step="0.01">
                    </div>
                    <div class="form-group">
                        <label>Categoria</label>
                        <select id="prodCategory">
                            <option value="camisetas">Camisetas</option>
                            <option value="cal√ßas">Cal√ßas</option>
                            <option value="jaquetas">Jaquetas</option>
                            <option value="vestidos">Vestidos</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Descri√ß√£o</label>
                        <textarea id="prodDesc" placeholder="Descri√ß√£o do produto"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Imagem do Produto</label>
                        <div class="file-input-wrapper" id="fileWrapper">
                            <label class="file-input-label">
                                <div class="file-input-text">üì∏ Clique ou arraste uma imagem</div>
                                <div class="file-input-subtext">PNG, JPG ou GIF (m√°x. 5MB)</div>
                                <input type="file" id="prodImage" accept="image/*" onchange="previewImage(event)">
                            </label>
                            <img id="imagePreview" class="preview-image hidden">
                        </div>
                    </div>
                    <button class="btn-primary" onclick="addProduct()">Cadastrar Produto</button>
                </div>
            </section>
        </div>

        <!-- DETALHES PAGE -->
        <div id="detalhes" class="page hidden">
            <section>
                <button class="btn-voltar" onclick="showPage('loja')">‚Üê Voltar</button>
                <div class="detalhes-container">
                    <div class="detalhes-image" id="detImage"></div>
                    <div class="detalhes-info">
                        <h2 id="detName"></h2>
                        <p class="product-desc" id="detDesc"></p>
                        <p class="price" id="detPrice"></p>
                        <div class="detalhes-actions">
                            <button class="btn-comprar" onclick="addToCartFromDetail()">Comprar Agora</button>
                            <button class="btn-primary" onclick="showPage('loja')">Continuar Shopping</button>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- SOBRE PAGE -->
        <div id="sobre" class="page hidden">
            <section>
                <h2>Sobre a STYLE CO.</h2>
                <div class="sobre-container">
                    <p>A STYLE CO. √© uma loja minimalista dedicada a oferecer moda de qualidade com personalidade. Acreditamos que estilo √© acess√≠vel e que cada pe√ßa deve contar uma hist√≥ria.</p>
                    <p>Nossa miss√£o √© trazer pe√ßas sofisticadas que combinam conforto, qualidade e design moderno para o seu dia a dia.</p>
                    
                    <div style="margin-top: 2rem; padding-top: 2rem; border-top: 1px solid rgba(0,0,0,0.1);">
                        <h3>Conecte-se Conosco</h3>
                        <div class="social-links">
                            <button class="social-btn facebook">Facebook</button>
                            <button class="social-btn instagram">Instagram</button>
                            <button class="social-btn twitter">Twitter</button>
                        </div>
                    </div>

                    <div style="margin-top: 2rem; padding-top: 2rem; border-top: 1px solid rgba(0,0,0,0.1);">
                        <h3>Entre em Contato</h3>
                        <div class="form-container">
                            <div class="form-group">
                                <label>Seu Nome</label>
                                <input type="text" placeholder="Nome">
                            </div>
                            <div class="form-group">
                                <label>Seu Email</label>
                                <input type="email" placeholder="Email">
                            </div>
                            <div class="form-group">
                                <label>Mensagem</label>
                                <textarea placeholder="Sua mensagem"></textarea>
                            </div>
                            <button class="btn-primary">Enviar Mensagem</button>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- FOOTER -->
    <footer>
        <p>&copy; 2024 STYLE CO. - Todos os direitos reservados.</p>
        <p>Desenvolvido com ‚ù§Ô∏è | Moda, qualidade e estilo</p>
    </footer>

    <script>
        // DADOS
        let products = [
            { id: 1, name: 'Camiseta Premium', price: 79.90, category: 'camisetas', image: 'üëï', description: 'Camiseta de algod√£o 100% confort√°vel' },
            { id: 2, name: 'Cal√ßa Jeans', price: 129.90, category: 'cal√ßas', image: 'üëñ', description: 'Cal√ßa jeans cl√°ssica de qualidade' },
            { id: 3, name: 'Jaqueta Bomber', price: 199.90, category: 'jaquetas', image: 'üß•', description: 'Jaqueta bomber moderna e vers√°til' },
            { id: 4, name: 'Vestido Casual', price: 159.90, category: 'vestidos', image: 'üëó', description: 'Vestido leve perfeito para o dia a dia' },
        ];
        let cart = [];
        let currentFilter = 'todos';
        let selectedProduct = null;

        // CARREGAR DO LOCALSTORAGE
        function loadData() {
            const savedProducts = localStorage.getItem('products');
            const savedCart = localStorage.getItem('cart');
            if (savedProducts) products = JSON.parse(savedProducts);
            if (savedCart) cart = JSON.parse(savedCart);
            updateCartBadge();
            renderAllProducts();
        }

        // SALVAR NO LOCALSTORAGE
        function saveData() {
            localStorage.setItem('products', JSON.stringify(products));
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        // MOSTRAR/ESCONDER P√ÅGINA
        function showPage(pageName) {
            document.querySelectorAll('.page').forEach(page => page.classList.add('hidden'));
            document.getElementById(pageName).classList.remove('hidden');
            window.scrollTo(0, 0);
        }

        // DARK MODE
        function toggleDarkMode() {
            document.body.classList.toggle('dark');
            localStorage.setItem('darkMode', document.body.classList.contains('dark'));
        }

        // MOBILE MENU
        function toggleMobileMenu() {
            document.getElementById('mobileMenu').classList.toggle('active');
        }

        // RENDERIZAR PRODUTOS
        function renderProducts(containerId, products) {
            const html = products.map(p => `
                <div class="product-card">
                    <div class="product-image" onclick="viewProduct(${p.id})">
                        ${p.isImage ? `<img src="${p.image}" alt="${p.name}">` : p.image}
                    </div>
                    <h4>${p.name}</h4>
                    <p class="product-desc">${p.description}</p>
                    <p class="price">R$ ${p.price.toFixed(2)}</p>
                    <div class="product-actions">
                        <button class="btn-details" onclick="viewProduct(${p.id})">Detalhes</button>
                        <button class="btn-add" onclick="addToCart(${p.id})">+</button>
                    </div>
                </div>
            `).join('');
            document.getElementById(containerId).innerHTML = html;
        }

        // RENDERIZAR TODOS OS PRODUTOS
        function renderAllProducts() {
            renderProducts('destaqueProducts', products.slice(0, 4));
            filterProducts('todos');
        }

        // FILTRAR PRODUTOS
        function filterProducts(category) {
            currentFilter = category;
            const filtered = category === 'todos' ? products : products.filter(p => p.category === category);
            renderProducts('lojaProducts', filtered);
            
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }

        // VER DETALHES
        function viewProduct(id) {
            selectedProduct = products.find(p => p.id === id);
            const detImage = document.getElementById('detImage');
            if (selectedProduct.isImage) {
                detImage.innerHTML = `<img src="${selectedProduct.image}" alt="${selectedProduct.name}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 0.5rem;">`;
            } else {
                detImage.innerHTML = selectedProduct.image;
            }
            document.getElementById('detName').innerHTML = selectedProduct.name;
            document.getElementById('detDesc').innerHTML = selectedProduct.description;
            document.getElementById('detPrice').innerHTML = `R$ ${selectedProduct.price.toFixed(2)}`;
            showPage('detalhes');
        }

        // ADICIONAR AO CARRINHO
        function addToCart(id) {
            const product = products.find(p => p.id === id);
            const existing = cart.find(item => item.id === id);
            
            if (existing) {
                existing.quantity += 1;
            } else {
                cart.push({ ...product, quantity: 1 });
            }
            
            saveData();
            updateCartBadge();
            alert('Adicionado ao carrinho!');
        }

        // ADICIONAR AO CARRINHO DO DETALHE
        function addToCartFromDetail() {
            addToCart(selectedProduct.id);
        }

        // ATUALIZAR BADGE DO CARRINHO
        function updateCartBadge() {
            const badge = document.getElementById('cartBadge');
            if (cart.length > 0) {
                badge.innerHTML = cart.length;
                badge.classList.remove('hidden');
            } else {
                badge.classList.add('hidden');
            }
        }

        // PREVIEW DE IMAGEM
        function previewImage(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const preview = document.getElementById('imagePreview');
                    preview.src = e.target.result;
                    preview.classList.remove('hidden');
                };
                reader.readAsDataURL(file);
            }
        }

        // ADICIONAR PRODUTO
        function addProduct() {
            const name = document.getElementById('prodName').value;
            const price = parseFloat(document.getElementById('prodPrice').value);
            const category = document.getElementById('prodCategory').value;
            const description = document.getElementById('prodDesc').value;
            const imageInput = document.getElementById('prodImage');
            
            if (!name || !price) {
                alert('Preencha todos os campos obrigat√≥rios!');
                return;
            }

            const newProduct = {
                id: Date.now(),
                name,
                price,
                category,
                description,
                image: 'üëï',
                isImage: false
            };

            // Se tiver imagem
            if (imageInput.files && imageInput.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    newProduct.image = e.target.result;
                    newProduct.isImage = true;
                    products.push(newProduct);
                    saveData();
                    clearForm();
                    alert('Produto cadastrado com sucesso!');
                    renderAllProducts();
                };
                reader.readAsDataURL(imageInput.files[0]);
            } else {
                products.push(newProduct);
                saveData();
                clearForm();
                alert('Produto cadastrado com sucesso!');
                renderAllProducts();
            }
        }

        // LIMPAR FORMUL√ÅRIO
        function clearForm() {
            document.getElementById('prodName').value = '';
            document.getElementById('prodPrice').value = '';
            document.getElementById('prodDesc').value = '';
            document.getElementById('prodImage').value = '';
            document.getElementById('imagePreview').classList.add('hidden');
        }

        // INICIALIZAR
        document.addEventListener('DOMContentLoaded', () => {
            loadData();
            if (localStorage.getItem('darkMode') === 'true') {
                document.body.classList.add('dark');
            }
        });
    </script>
</body>
</html>